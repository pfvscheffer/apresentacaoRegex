<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        body {
            background-color: black;
            font-family: 'Consolas', monospace;
            font-size: 4vh;
        }

        h1 {
            font-size: 22vh;
        }

        .hidden {
            display: none;
        }

        .header {
            position: absolute;
            width: 100vw;
            height: 10vh;
            top: 0;
            left: 0;
            background-color: darkblue;
            margin: 0;
            color: white;
            font-size: 6vh;
            vertical-align: middle;
        }

        .header p {
            margin: 0 0 0 1vh;
            line-height: 10vh;
        }

        #meter-back {
            position: absolute;
            top: 10vh;
            left: 0;
            height: 1vh;
            width: 100vw;
            background-color: cornflowerblue;
            margin: 0;
        }

        #meter-front {
            width: 0%;
            height: 100%;
            background-color: aqua;
            margin: 0;
        }

        .container {
            position: absolute;
            width: 100vw;
            height: 89vh;
            top: 11vh;
            left: 0;
            background-color: white;
            margin: 0;
        }

        .destaque {
            text-decoration: underline;
            text-decoration-color: red;
        }

        td {
            padding: 1vh;
        }

        .italico {
            font-style: italic;
        }

        li {
            line-height: 6vh;
        }
    </style>
</head>

<body>
    <div class='header'>
        <p>
            <span id='titulo'></span>
        </p>
    </div>
    <div id="meter-back">
        <div id="meter-front"></div>
    </div>
    <div class='body'>
        <div class='container hidden' data-titulo=''>
            <h1>Express√µes Regulares</h1>
        </div>
        <div class='container hidden' data-titulo='Apresenta√ß√£o'>
            <ul>
                <li>Pedro Scheffer</li>
                <li>Engenheiro Civil</li>
                <li>Aprendi a programar com Pascal e comecei a s√©rio com VBA</li>
                <li>2 anos programando em Fortran antes do banco</li>
                <li>5 anos e 10 dias de Banrisul</li>
                <li>Conheci express√µes regulares no Mehlroes Pr√°ticas</li>
                <li>N√£o sei usar PowerPoint (nem Impress)</li>
            </ul>
        </div>
        <div class='container hidden' data-titulo='O que s√£o Express√µes Regulares?'>
            <p>Express√µes regulares s√£o sequ√™ncias de caracteres que definem padr√µes de busca.</p>
        </div>
        <div class='container hidden' data-titulo='‚ö† Importante! ‚ö†'>
            <q>Some people, when confronted with a problem, think ‚ÄúI know, I'll use regular expressions.‚Äù Now they have two
                problems.
            </q>
            <div class='direita'>
                <span class='autor'></span>Jamie Zawinski</span>
            </div>
        </div>
        <div class='container hidden' data-titulo='Caracteres normais'>
            <p>S√£o todos os caracteres que n√£o s√£o especiais :)</p>
            <p>Exemplos: A b 3 @ !</p>
            <p>Eles combinam com caracteres iguais. Se combinados, com a sequ√™ncia.</p>
            <table>
                <tr>
                    <th>Regex</th>
                    <th>String</th>
                    <th>Combina√ß√µes</th>
                </tr>
                <tr>
                    <td>aba</td>
                    <td>abacate</td>
                    <td>
                        <span class='destaque'>aba</span>cate</td>
                </tr>
                <tr>
                    <td>010</td>
                    <td>01010</td>
                    <td>
                        <span class='destaque'>010</span>10
                    </td>
                </tr>
                <tr>
                    <td>010</td>
                    <td>0101010</td>
                    <td>
                        <span class='destaque'>010</span>1
                        <span class='destaque'>0</span>
                    </td>
                </tr>

            </table>
        </div>
        <div class='container hidden' data-titulo='Quantificadores'>
            <p>Indicam um multiplicador para o caractere ou grupo de caracteres anterior.</p>
            <table>
                <tr>
                    <th>Quantificador</th>
                    <th>Descri√ß√£o</th>
                    <th>Equivale a</th>
                </tr>
                <tr>
                    <td>*</td>
                    <td>zero ou mais repeti√ß√µes</td>
                    <td>{0,}</td>
                </tr>
                <tr>
                    <td>+</td>
                    <td>uma ou mais repeti√ß√µes</td>
                    <td>{1,}</td>
                </tr>
                <tr>
                    <td>?</td>
                    <td>zero ou uma repeti√ß√£o</td>
                    <td>{0,1}</td>
                </tr>
                <tr>
                    <td>{n}</td>
                    <td>exatamente
                        <span class='italico'>n</span> repeti√ß√µes</td>
                </tr>
                <tr>
                    <td>{n, m}</td>
                    <td>no m√≠nimo
                        <span class='italico'>n</span> repeti√ß√µes e no m√°ximo
                        <span class='italico'>m</span> repeti√ß√µes</td>
                </tr>
            </table>
            <p>Os quantificadores s√£o gulosos (
                <span class='italico'>greedy</span> ou cobi√ßosos em ingl√™s, ou seja, buscam a maior combina√ß√£o poss√≠vel.</p>
            <p>Para buscar a menor combina√ß√£o poss√≠vel, pode-se colocar
                <span class='destaque'>?</span> ap√≥s o quantificador.</p>
        </div>
        <div class='container hidden' data-titulo='Grupos de caracteres'>
            <p>Para tentar combinar com um caracter de uma lista de caracteres, usamos colchetes.</p>
            <p>Um h√≠fen pode ser usado para representar um intervalo de caracteres.</p>
            <p>Para combinar com os caracteres N√ÉO presentes no grupo, se inicia com um acento circunflexo.</p>
            <table>
                <tr>
                    <th>Regex</th>
                    <th>String</th>
                    <th>Combina√ß√µes</th>
                </tr>
                <tr>
                    <td>[Ab!]</td>
                    <td>Abacate!</td>
                    <td>
                        <span class='destaque'>A</span>
                        <span class='destaque'>b</span>acate
                        <span class='destaque'>!</span>
                    </td>
                </tr>
                <tr>
                    <td>[a-e]+</td>
                    <td>Abacate!</td>
                    <td>A
                        <span class='destaque'>baca</span>t
                        <span class='destaque'>e</span>!</td>
                </tr>
                <tr>
                    <td>[^a-e]+</td>
                    <td>Abacate!</td>
                    <td>
                        <span class='destaque'>A</span>baca
                        <span class='destaque'>t</span>e
                        <span class='destaque'>!</span>
                    </td>
                </tr>
            </table>
        </div>
        <div class='container hidden' data-titulo='Classes de caracteres'>
            <p>As classes de caracteres incluem alguns atalhos para os grupos j√° mencionados.</p>
            <p>A nega√ß√£o das classes √© usando a letra mai√∫scula.</p>
            <table>
                <tr>
                    <th>Classe</th>
                    <th>Descri√ß√£o</th>
                    <th>Equival√™ncia</th>
                </tr>
                <tr>
                    <td>.</td>
                    <td>combina com qualquer caractere</td>
                </tr>
                <tr>
                    <td>\s</td>
                    <td>combina com qualquer espa√ßo em branco</td>
                    <td>[ \t] ou [ \t\r\n] dependendo das op√ß√µes</td>
                </tr>
                <tr>
                    <td>\w</td>
                    <td>qualquer caractere de palavra, incluindo d√≠gitos</td>
                    <td>[A-Za-z0-9]</td>
                </tr>
                <tr>
                    <td>\d</td>
                    <td>qualquer d√≠gito decimal</td>
                    <td>[0-9]</td>
                </tr>
            </table>
            <p>Exemplo:</p>
            <table>
                <tr>
                    <th>Regex</th>
                    <th>String</th>
                    <th>Match</th>
                </tr>
                <tr>
                    <td>public\s+\w+\s+\w+</td>
                    <td>public String Contar(TO to)</td>
                    <td>
                        <span class='destaque'>public String Contar</span>(TO to)</td>
                </tr>
            </table>
        </div>
        <div class='container hidden' data-titulo='Captura alternativa'>
            <p>Usa-se o | para definir cadeias alternativas de captura.</p>
            <table>
                <tr>
                    <th>Regex</th>
                    <th>String</th>
                    <th>Match</th>
                </tr>
                <tr>
                    <td>tr√™s|trigo|tristes</td>
                    <td>Tr√™s pratos de trigo para tr√™s tigres tristes</td>
                    <td>Tr√™s pratos de
                        <span class="destaque">trigo</span> para
                        <span class="destaque">tr√™s</span> tigres
                        <span class="destaque">tristes</span>
                    </td>
                </tr>
            </table>
        </div>
        <div class='container hidden' data-titulo='√Çncoras'>
            <p>As √¢ncoras n√£o fazem parte da captura, mas a validam de acordo com a posi√ß√£o.</p>
            <p>As mais usadas s√£o ^ para in√≠cio de linha ou string e $ para o final.</p>
        </div>
        <div class='container hidden' data-titulo='Grupos'>
            <p>Os grupos s√£o sbuexpress√µes colocadas entre par√™nteses.</p>
            <p>Pode-se acessar um grupo j√° capturado usando \n, onde
                <span class="italico">n</span> √© o n√∫mero da captura em ordem.</p>
            <table>
                <tr>
                    <th>Regex</th>
                    <th>String</th>
                    <th>Match</th>
                </tr>
                <tr>
                    <td>([a-c]{2});+?\1</td>
                    <td>cabe√ßa de cavalo</td>
                    <td>
                        <span class='destaque'>cabe√ßa de ca</span>valo</td>
                </tr>
            </table>
        </div>
        <div class='container hidden' data-titulo='Grupos nomeados'>
            <p>√â mais f√°cil acessar os grupos dando-lhes nomes. Al√©m disso, a express√£o regular fica um pouco menos ileg√≠vel</p>
            <p>A sintaxe do grupo nomeado √© (?&lt;NOME&gt;express√£o), e dentro da regex ele √© acessado com \k&lt;NOME&gt;</p>
        </div>
        <div class='container hidden' data-titulo='Grupos sem captura'>
            <p>Para n√£o capturar um grupo se usa (?:expressao).</p>
            <p>Um dos usos desse grupo √© quando se quer delimitar uma express√£o sem incluir na lista de grupos dos resultados.</p>
            <p>Ex: (?&lt;BOLO&gt;bol(?:inh|√£)?o)</p>
        </div>
        <div class='container hidden' data-titulo='Grupos de vizinhos'>
            <p>Esses grupos observam √† frente ou a tr√°s da express√£o. Funcionam como √¢ncoras definidas por express√µes.
            </p>
            <table>
                <tr>
                    <td>(?=
                        <span class='italico'>express√£o</span>)</td>
                    <td>combina com express√£o √† frente</td>
                </tr>
                <tr>
                    <td>(?
                        <=<span class='italico'>express√£o</span>)</td>
                    <td>combina com express√£o atr√°s</td>
                </tr>
                <tr>
                    <td>(?!
                        <span class='italico'>express√£o</span>)</td>
                    <td>combina se n√£o h√° express√£o √† frente</td>
                </tr>
                <tr>
                    <td>(?
                        <!>
                        <span class='italico'>express√£o</span>)</td>
                    <td>combina se n√£o h√° express√£o atr√°s</td>
                </tr>
            </table>
            <table>
                <tr>
                    <th>Regex</th>
                    <th>String</th>
                    <th>Match</th>
                </tr>
                <tr>
                    <td>guarda(?=-sol)</td>
                    <td>guarda-sol e guarda-chuva</td>
                    <td>
                        <span class='destaque'>guarda</span>-sol e guarda-chuva</td>
                </tr>
                <tr>
                    <td>(?&lt;guarda-)sol</td>
                    <td>guarda-sol p√¥r-do-sol</td>
                    <td>guarda-
                        <span class='destaque'>sol</span> p√¥r-do-sol</td>
                </tr>
            </table>
        </div>
        <div class='container hidden' data-titulo='Grupos de balan√ßo (.NET)'></div>
        <div class='container hidden' data-titulo='Op√ß√µes'>
            <p>Existem algumas op√ß√µes que modificam o comportamento das express√µes</p>
            <p>Elas podem ser definidas em uma subexpress√£o (?op√ß√µes:express√£o) ou para toda a express√£o</p>
            <table>
                <tr>
                    <td>i:</td>
                    <td>independ√™ncia de capitaliza√ß√£o (azeite faz match com AzEiTe)</td>
                </tr>
                <tr>
                    <td>m:</td>
                    <td>multilinha, √¢ncoras ^ e $ combinam com in√≠cio e fim de linha, e n√£o da string inteira</td>
                </tr>
                <tr>
                    <td>s:</td>
                    <td>linha √∫nica, . combina com todos os caracteres. sem isso ele n√£o combina com \n</td>
                </tr>
                <tr>
                    <td>n:</td>
                    <td>captura expl√≠cita, somente grupos nomeados entram na captura</td>
                </tr>
                <tr>
                    <td>x:</td>
                    <td>ignora espa√ßo em branco e permite coment√°rios. pra combinar com espa√ßos tem que usar \s</td>
                </tr>
            </table>
            <p>Obs: os modos multilinha e linha √∫nica podem ser usados ao mesmo tempo ü§î</p>
        </div>
        <div class='container hidden' data-titulo="Uso em JavaScript">
            <p>Em JavaScript existe o literal pra express√µes regulares:</p>
            <p>/express√£o/opc√ß√µes</p>
        </div>
        <div class="container hidden" data-titulo="Uso em C#"></div>
        <div class="container hidden" data-titulo="Uso em Java"></div>
        <div class="container hidden" data-titulo="Recomenda√ß√µes">
            <ul>
                <li>Refer√™ncia .NET:
                    <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference">https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference</a>
                </li>
                <li>Intrepretador Regex 101:
                    <a href='https://regex101.com/'>https://regex101.com/</a>
                </li>
                <li>
                    Regex Editor no Developer Tools
                </li>
            </ul>
        </div>
    </div>
    <script>
        document.getElementsByTagName('body')[0].addEventListener('keydown', tratarTecla);
        var slides = document.getElementsByClassName('container');
        var indiceAtual = 0;
        var titulo = document.getElementById('titulo');
        var totalSlides = slides.length;
        var meter = document.getElementById('meter-front');

        slides[indiceAtual].classList.remove('hidden');

        console.log('totalSlides: ' + totalSlides);

        function trocarSlide(troca) {
            if (trocaValida(troca)) {
                slides[indiceAtual].classList.add('hidden');
                indiceAtual = troca === 'avanca' ? indiceAtual + 1 : indiceAtual - 1;
                let slideAtual = slides[indiceAtual];
                slideAtual.classList.remove('hidden');
                titulo.textContent = slideAtual.dataset.titulo;
                meter.style.width = ((indiceAtual + 1) * 100 / totalSlides) + '%';
            }
        }

        function trocaValida(troca) {
            if (troca === 'avanca') {
                return indiceAtual < totalSlides - 1;
            }
            if (troca === 'recua') {
                return indiceAtual > 0;
            }
            return false;
        }

        function tratarTecla(event) {
            switch (event.key) {
                case 'ArrowRight': trocarSlide('avanca'); break;
                case 'ArrowLeft': trocarSlide('recua'); break;
                default: break;
            }
        }
    </script>
</body>

</html>